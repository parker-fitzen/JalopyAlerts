<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jalopy Jungle — Multi‑Yard Inventory Search & Alerts</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header>
    <div class="wrap">
      <h1>Jalopy Jungle — Multi‑Yard Inventory Search & Alerts</h1>
      <p>Search across all yards and filter by year range.</p>
      <p>Set up alerts for new arrivals.</p>
    </div>
  </header>

  <main class="wrap">
    <div class="card">
      <div class="grid controls">
        <div class="col-4">
          <label for="make">Make</label>
          <select id="make" disabled>
            <option value="">Loading makes…</option>
          </select>
        </div>

        <div class="col-4">
          <label for="model">Model</label>
          <select id="model" disabled>
            <option value="">Select a make first</option>
          </select>
        </div>

        <div class="col-2">
          <label for="minYear">Min year</label>
          <input id="minYear" type="number" inputmode="numeric" placeholder="e.g. 2005" />
        </div>

        <div class="col-2">
          <label for="maxYear">Max year</label>
          <input id="maxYear" type="number" inputmode="numeric" placeholder="e.g. 2015" />
        </div>

        <div class="col-12 row">
          <button id="searchBtn" disabled>Search all yards</button>
          <button id="resetBtn" class="secondary">Reset</button>
          <span id="status" class="status"></span>
        </div>

        <div class="col-12">
          <div id="yardCounts" class="pillbar"></div>
        </div>

        <div class="col-12 row">
          <div style="min-width: 220px; flex: 1;">
            <label for="quickFilter">Quick filter (contains)</label>
            <input id="quickFilter" placeholder="type to filter displayed rows…" />
          </div>
          <div style="min-width: 220px;">
            <label for="sort">Sort</label>
            <select id="sort">
              <option value="year_desc">Year (newest first)</option>
              <option value="year_asc">Year (oldest first)</option>
              <option value="yard_asc">Yard (A→Z)</option>
              <option value="yard_desc">Yard (Z→A)</option>
            </select>
          </div>
        </div>
      </div>

      <div class="table-shell">
        <table>
          <thead>
            <tr>
              <th>Yard</th>
              <th>Make</th>
              <th>Model</th>
              <th>Year</th>
              <th>Engine</th>
              <th>Trans</th>
              <th>Row</th>
              <th>Added</th>
            </tr>
          </thead>
          <tbody id="results">
            <tr>
              <td colspan="8" class="muted">Loading…</td>
            </tr>
          </tbody>
        </table>
      </div>

      <p class="footer-note">Uses Jalopy Jungle worker endpoints. Limits requests to avoid overloading yard sites.</p>
    </div>
  </main>

  <script src="scripts/main.js"></script>
</body>
</html>
